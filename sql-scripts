create database weather_db;

drop table users;
drop table locations;
drop table users_locations;

create table users
(
    id       int generated by default as identity primary key ,
    email    varchar(30) unique not null,
    password varchar            not null
);

create table locations
(
    id        int generated by default as identity primary key ,
    name      varchar(100) not null unique,
    latitude  decimal      not null,
    longitude decimal      not null
);

create table users_locations
(
    user_id      int references users (id),
    location_id int references locations (id),
    primary key (user_id, location_id)
);

select * from users_locations where user_id = 1;